webpackJsonp([1],{0:function(t,e){},"0+yh":function(t,e,n){"use strict";t.exports=function(){this.mysqlTimeStampToDate=function(t){var e=(t=(t=t.replace("T"," ")).replace(".000Z","")).split(/[- :]/);return new Date(e[0],e[1]-1,e[2],e[3]||0,e[4]||0,e[5]||0)},this.converterToDate=function(t,e,n,i,s){return parseInt(e)<10&&(e="0"+e),parseInt(n)<10&&(n="0"+n),parseInt(i)<10&&(i="0"+i),parseInt(s)<10&&(s="0"+s),t+"-"+e+"-"+n+" "+i+":"+s}}},"1/oy":function(t,e){},"1iR8":function(t,e){},"1xTJ":function(t,e,n){"use strict";t.exports=function(){var t=[31,28,31,30,31,30,31,31,30,31,30,31],e=["일","월","화","수","목","금","토"];this.intercalary=function(t){return t%4==0&&t%100!=0||t%400==0},this.getDay=function(n,s,a){var o=new Array;o=t.slice();var r=0;if(this.intercalary(n)){if(o[1]++,s>1){for(i=0;i<s-1;i++)r+=o[i];r=(r+a)%7}else r=a%7;return[o[s-1],e[r]]}if(s>1){for(i=0;i<s-1;i++)r+=o[i];r=(r+a)%7}else r=a%7;return[o[s-1],e[r]]},this.getNowTotalDay=function(e,n){var i=new Array;return i=t.slice(),this.intercalary(e)&&(i[1]=29),i[n]},this.getStringDay=function(t){var e=new Date;return e.getFullYear(t)+"년 "+(e.getMonth(t)+1)+"월 "+e.getDate(t)+"일"},this.changeNumber=function(t,e,n){void 0==n&&(n=2),void 0==e&&(e=":"),t=parseInt(t);var i=parseInt(t/60),s=parseInt(t%60);s=s<10?"0"+s:""+s;var a=parseInt(i%60);a<10?a="0"+a+e:a+=e;var o=a+s;if(n>=3){var r=parseInt(t/60),c=parseInt(r%60);c<10?c="0"+c+e:c+=e,o=c+o}return o}}},"4U5d":function(t,e){},"9M+g":function(t,e){},AzGD:function(t,e){},BQih:function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"app",attrs:{id:"app"}},[e("router-view"),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom"},[e("span",{staticClass:"main_bottom"},[this._v("Copyright 2019. Rock Sizer Paper Game Co. all rights reserved.")])])}]};var a=n("VU/8")({name:"App"},s,!1,function(t){n("R6e1")},null,null).exports,o=n("EPAd"),r=n.n(o),c=(n("4U5d"),n("H5Ot")),l=n.n(c),_=n("oYt9"),u=n("1AHn"),m=n.n(u),h=n("/ocq"),v=n("pFYg"),g=n.n(v),f=n("OOdf"),p=n.n(f),d=n("Zrlr"),E=n.n(d),w=n("wxAW"),b=n.n(w),C=function(){function t(){E()(this,t),console.log("EventBus")}return b()(t,null,[{key:"MAIN",get:function(){return"Main"}},{key:"CAMPAIGN",get:function(){return"Campaign"}},{key:"EVENT_PAGE",get:function(){return"EventPage"}},{key:"MAIN_EVENT",get:function(){return"main_event"}},{key:"CAMPAIGN_EVENT",get:function(){return"campaign_event"}},{key:"EVENT_PAGE_EVENT",get:function(){return"event_page_event"}},{key:"DISCONNECT",get:function(){return"disconnect"}},{key:"INPUT_WIN",get:function(){return"input_win"}},{key:"CAMPIGN_ROOM",get:function(){return"campign_room"}},{key:"EVENTPAGE_ROOM",get:function(){return"eventpage_room"}},{key:"MOVE_EVENT",get:function(){return"move_event"}},{key:"SET_TOP_IMAGE",get:function(){return"set_top_image"}},{key:"SET_TOP_IMAGE_INDEX",get:function(){return"set_top_image_index"}},{key:"MOVIE_VIEW",get:function(){return"movie_view"}},{key:"WATIMG_VIEW",get:function(){return"wating_view"}},{key:"WIN_VIEW",get:function(){return"win_view"}},{key:"RESULT_VIEW",get:function(){return"result_view"}},{key:"START_VIEW",get:function(){return"start_view"}},{key:"EVENT_START",get:function(){return"eventStart"}},{key:"START_DELAY",get:function(){return"startDelay"}},{key:"EVENT_RESTART",get:function(){return"eventRestart"}},{key:"GAME_DONE",get:function(){return"gameDone"}},{key:"EVENT_STOP",get:function(){return"eventStop"}},{key:"COUNTDOWN",get:function(){return"countdown"}},{key:"YOUTUBE_START",get:function(){return"youtubeStaet"}},{key:"YOUTUBE_STOP",get:function(){return"youtubeStop"}},{key:"EVENT_DATA",get:function(){return"event_data"}},{key:"EVENT_COMPUTER_DONE",get:function(){return"event_computer_done"}}]),t}(),y=function(){function t(){E()(this,t),console.log("new TimeUtill")}return b()(t,[{key:"getChangeTime",value:function(e,n,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"D-";if(i=1e3*Math.floor(i/1e3),0==n||0==i)return"";var o=parseInt(n)-i,r=e.duration(o-1e3,"milliseconds");return r.valueOf()<=0&&(r=e.duration(0)),s==t.ALL?a+this.getDiffDays(e,n,i)+" "+this.changeOneToTwo(e.duration(r).hours())+":"+this.changeOneToTwo(e.duration(r).minutes())+":"+this.changeOneToTwo(e.duration(r).seconds()):s==t.DATE?a+this.getDiffDays(e,n,i):s==t.TIME?this.changeOneToTwo(e.duration(r).hours())+":"+this.changeOneToTwo(e.duration(r).minutes())+":"+this.changeOneToTwo(e.duration(r).seconds()):""}},{key:"getDiffDays",value:function(t,e,n){var i=t(e),s=t(n);return i.diff(s,"d")}},{key:"changeOneToTwo",value:function(t){return(t=parseInt(t))<10?t="0"+t:t+="",t}},{key:"showList",value:function(t,e){return parseInt(t)>=(e=parseInt(e))}},{key:"countdown",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;n=1e3*Math.floor(n/1e3);var s=parseInt(e)-n,a=t.duration(s-1e3,"milliseconds").valueOf();return a>60*i*1e3}},{key:"moveBeforeCheck",value:function(e,n,i,s){return this.showList(e,n)?i<s?t.OK:t.COUNT_OVER:t.TIME_OVER}}],[{key:"ALL",get:function(){return 0}},{key:"DATE",get:function(){return 1}},{key:"TIME",get:function(){return 2}},{key:"OK",get:function(){return 0}},{key:"TIME_OVER",get:function(){return 1}},{key:"COUNT_OVER",get:function(){return 2}}]),t}(),T=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;E()(this,t),this.nicname=e,this.email=n,this.phone=i,this.select_id=s,this.life=!0},k=function(){function t(e,n,i,s,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";E()(this,t),this.io=e,this.url=n,this.socket=null,this.move=null,this.room_event=s,this.eventBus=a,this.countMax=o,this.test=!1,this.game_data=new T(r,c,l)}return b()(t,[{key:"start",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;console.log("start socket"),null==this.socket&&(this.socket=this.io(this.url,{transports:["websocket"]}),this.socket.on("connect",function(){console.log("connection campaign");var t={msg:"client hi campaign"};t.countMax=e.countMax,t.room=n,""!=e.email&&(t.u_info=e.game_data),-1!=n&&e.socket.emit("room",t)}),this.socket.on("room",function(t){e.eventBus.$emit(e.room_event,t)}),this.socket.on(t.CHAT,function(n){console.log("data.msg:",n.msg),e.eventBus.$emit(t.CHAT,n)}),this.socket.on("msg",function(t){console.log("data.msg:",t.msg)}),this.socket.on(C.EVENT_DATA,function(t){console.log("data:",t),e.eventBus.$emit(C.EVENT_DATA,t)}),this.socket.on(t.GAME_DATA,function(n){console.log("data:",n),e.eventBus.$emit(t.GAME_DATA,n)}),this.socket.on(t.GET_DATA,function(n){console.log("data:",n),e.eventBus.$emit(t.GET_DATA,n),e.game_data=n.u_info}),this.socket.on("error",function(t){console.log("error"),alert("Time server error로 접속이 안됩니다.")}),this.socket.on("disconnect",function(){console.log("disconnect"),null!=e.move&&vue_root.$router.push(e.move)}))}},{key:"send",value:function(t,e){this.socket.emit(t,e)}},{key:"end",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.move=t,null!=this.socket&&(this.socket.disconnect(),this.socket=null)}}],[{key:"CHAT",get:function(){return"chat"}},{key:"GAME_DATA",get:function(){return"game_data"}},{key:"GET_DATA",get:function(){return"get_data"}},{key:"TIME_URL",get:function(){return this.test?"http://localhost:5000":"http://minuapp.mooo.com:5000"}},{key:"CAMPAIGN_URL",get:function(){return this.test?"http://localhost:3001":"http://minuapp.mooo.com:3001"}},{key:"LOCALHOST_URL",get:function(){return this.test?"http://localhost:3001":"http://13.209.83.43"}}]),t}(),$={name:"Main",data:function(){return{timeUtill:new y,height:0,now_time:0,systems:[],color_array:[["#46c999","#46b5c9"],["#ff903f","#ff593f"],["#64a4eb","#4677c9"],["#bd72dd","#8548be"]]}},mounted:function(){var t=this;console.log("mounted"),this.getList(),this.$EventBus.$on(C.MAIN_EVENT,function(e){t.now_time=e}),this.now_time=this.$now_time,this.getWindowWidth(),window.addEventListener("message",this.receiveMessage,!1)},methods:{CampaignMove:function(t){this.$router.push({name:"Campaign",params:{campaign_id:t}})},receiveMessage:function(t){g()(t.data)==Number&&this.$router.push({name:"Campaign",params:{campaign_id:t.data}}),console.log("receiveMessage:",t.data)},scrollHanle:function(t){Math.round(t.target.scrollHeight-t.target.scrollTop)==t.target.clientHeight&&this.getList(this.systems.length+10)},imageDir:function(t){return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/campaign_images/"+t:""},getColorIndex:function(t){return t%this.color_array.length},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n={};n.start=0,n.end=e,this.$http.post(k.LOCALHOST_URL+"/api/getList",n).then(function(e){console.log("qery:",e.data),e.data.res==p.a.REQ_OK&&t.setList(e.data.qery)}).catch(function(t){console.log("error",t)})},setList:function(t){this.systems=[];for(var e=0;e<t.length;++e)this.systems[e]=t[e]},showList:function(t){var e=parseInt(t)>this.now_time;return e||this.getList(this.systems.length),e},getWindowWidth:function(t){console.log("resize:",this.$refs.main.clientHeight),this.height=943},resize:function(){console.log("ssssssssss")}},beforeDestroy:function(){this.$EventBus.$off(C.MAIN_EVENT),console.log("main beforeDestroy")},computed:{}},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"main",staticClass:"main"},[n("div",{staticClass:"header"},[n("img",{staticClass:"top_image",attrs:{src:"/static/logo_big.png"}}),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"top"},[n("img",{staticClass:"top_bg",attrs:{src:"/static/top_bg.png"}}),t._v(" "),n("img",{staticClass:"top_icon",attrs:{src:"/static/caution_icon.png"}}),t._v(" "),n("span",{staticClass:"top_ex"},[t._v("아래 이벤트를 클릭하면 자세한 내용을 보실 수 있습니다")])]),t._v(" "),n("scroll",{staticClass:"list_body",style:{height:t.height+"px"},on:{"ps-scroll-y":t.scrollHanle}},t._l(t.systems,function(e,i){return t.showList(e.time)?n("div",{staticClass:"list_box",style:{backgroundImage:"linear-gradient(135deg, "+t.color_array[t.getColorIndex(i)][0]+", "+t.color_array[t.getColorIndex(i)][1]+")"},on:{click:function(n){return t.CampaignMove(e.id)}}},[n("div",{staticClass:"front_box"},[n("img",{staticClass:"icon",attrs:{src:t.imageDir(e.image_name),width:"165",height:"165"}})]),t._v(" "),n("div",{staticClass:"list_ex"},[n("div",{ref:"list_title",refInFor:!0,staticClass:"list_ex_unit",attrs:{id:"list_title"}},[t._v("\n          "+t._s(e.events[0].event_name)+"\n        ")]),t._v(" "),n("div",{staticClass:"list_ex_unit"},[n("span",{staticClass:"list_icon"},[n("img",{attrs:{src:"/static/trophy_white_icon.png",width:"25",height:"24"}}),t._v(" "),n("span",{staticClass:"minu_text"},[t._v(t._s(e.events[0].winner))])]),t._v(" "),n("span",{staticClass:"list_icon"},[n("img",{attrs:{src:"/static/bong_white_icon.png",width:"25",height:"24"}}),t._v(" "),n("span",{staticClass:"minu_text"},[t._v(t._s(e.events[0].bong)+"배")])])]),t._v(" "),n("div",{staticClass:"list_ex_unit",attrs:{id:"list_time"}},[t._v("\n          "+t._s(t.timeUtill.getChangeTime(t.$moment,e.time,t.now_time))+"\n        ")])])]):t._e()}),0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top_btn_box"},[e("div",{staticClass:"btn_unit"},[this._v("이벤트기록")]),this._v(" "),e("div",{staticClass:"btn_unit"},[this._v("게임 설명")])])}]};var A=n("VU/8")($,I,!1,function(t){n("qBcG")},"data-v-1e94e972",null).exports,x=(n("0+yh"),n("1xTJ"),n("sxbO")),D=n.n(x),V=n("DmT9"),N=n.n(V),j={name:"ImputWin",data:function(){return{win_view:!1,click_view:!1,timeUtill:new y,form:{nicname:"",email:"",phone:""}}},mounted:function(){var t=this;this.$EventBus.$on(C.INPUT_WIN,function(e){t.win_view=e})},methods:{send:function(){if(this.timeUtill.showList(this.$parent.data.time,this.$parent.now_time)){if(this.$str_check.void_check(this.form.nicname))return this.form.nicname="",this.$refs.nicname.focus(),void alert("닉네임을 입력해 주세요.");if(this.form.nicname.length<3||this.form.nicname.length>=10)return this.form.nicname="",this.$refs.nicname.focus(),void alert("닉네임은 3자리 이상 10자리 이하로 입력해 주세요.");if(this.form.nicname=this.form.nicname.trim(),this.$str_check.void_check(this.form.email))return this.form.email="",this.$refs.email.focus(),void alert("이메일을 입력해 주세요.");if(!this.$str_check.email_check(this.form.email.trim()))return this.form.email="",this.$refs.email.focus(),void alert("이메일이 잘못되었습니다. 정확한 이메일을 입력해 주세요.");if(this.form.email=this.form.email.trim(),this.$str_check.void_check(this.form.phone))return this.form.phone="",this.$refs.phone.focus(),void alert("전화번호를 입력해 주세요.");if(!this.$str_check.number_check(this.form.phone.trim()))return this.form.phone="",this.$refs.phone.focus(),void alert("전화번호는 숫자만 입력해 주세요.");if(this.form.phone=this.form.phone.trim(),!this.click_view)return void alert("개인정보사용동의를 하셔야 게임 진행이 가능합니다.");var t={};t.nicname=this.form.nicname,t.email=this.form.email,t.phone=this.form.phone,this.$EventBus.$emit(C.MOVE_EVENT,t)}else alert("접속 시간이 지났습니다."),this.$router.push("/")},clickWin:function(){this.click_view=!this.click_view}},beforeDestroy:function(){console.log("eventPage beforeDestroy"),this.$EventBus.$off(C.INPUT_WIN)}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.win_view,expression:"win_view"}],ref:"inputWin",staticClass:"inputWin"},[n("div",{staticClass:"win"},[n("div",{staticClass:"input_box"},[n("div",{staticClass:"input_unit"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nicname,expression:"form.nicname"}],ref:"nicname",staticClass:"input_user",attrs:{type:"text",name:"nicname",id:"nicname",placeholder:"닉네임 입력"},domProps:{value:t.form.nicname},on:{input:function(e){e.target.composing||t.$set(t.form,"nicname",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"input_unit"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],ref:"email",staticClass:"input_user",attrs:{type:"text",name:"email",id:"email",placeholder:"이메일 입력"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"input_unit"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],ref:"phone",staticClass:"input_user",attrs:{type:"text",name:"phone",id:"phone",placeholder:"숫자만 입력"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"bottom"},[n("div",{ref:"check",staticClass:"check",on:{click:t.clickWin}},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.click_view,expression:"click_view"}],staticClass:"click_img",attrs:{src:"/static/Campagin/check_icon.png"}})]),t._v(" "),n("span",{ref:"info_btn",staticClass:"info_btn"},[n("img",{attrs:{src:"/static/Campagin/info_btn.png"}})])]),t._v(" "),n("div",{ref:"send_btn",staticClass:"send_btn",on:{click:t.send}},[n("img",{staticClass:"click_img",attrs:{src:"/static/Campagin/info_ok_btn_2.png"}})])])])},staticRenderFns:[]};var O=n("VU/8")(j,M,!1,function(t){n("BQih")},"data-v-5e4317f1",null).exports,B={name:"TopImage",data:function(){return{timeUtill:new y,event_index:0,systems:[],events:{event_name:"",image_name:""},all_event:[],content:"",unit_width:0,left_x:0,left_view:!1,right_view:!1,TOP_MAX:110,TOP_ICON_X:42,top_icon_x:42}},mounted:function(){var t=this;this.$EventBus.$on(C.SET_TOP_IMAGE,function(e,n){t.events=e,t.all_event=n,t.systems=n,t.unit_width=t.systems.length*t.TOP_MAX,console.log("this.unit_width:"+n.length),t.setScrollPoint(t.event_index),t.moveBtn()}),console.log("this.$refs.unit_body.clientX:"+this.$refs.unit_body.getBoundingClientRect().left),this.$EventBus.$on(C.SET_TOP_IMAGE_INDEX,function(e){t.event_index=e,t.setScrollPoint(t.event_index),t.moveBtn()})},methods:{imageDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"campaign_images";return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/"+e+"/"+t:""},imageLocalDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Campagin";return""!=t?"/static/"+e+"/"+t:""},setScrollPoint:function(t){this.systems.length>t&&(5<=t&&this.moveAutoList(),this.top_icon_x=this.TOP_ICON_X+this.TOP_MAX*t)},moveBtn:function(){this.systems.length>5?(this.left_x<0?this.left_view=!0:this.left_view=!1,(this.unit_width+this.left_x)/this.TOP_MAX<=5?this.right_view=!1:this.right_view=!0):(this.right_view=!1,this.left_view=!1)},moveList:function(t){t?(this.unit_width+this.left_x)/this.TOP_MAX>5&&(this.left_x-=this.TOP_MAX):this.left_x<0&&(this.left_x+=this.TOP_MAX),this.moveBtn()},moveAutoList:function(){var t=(this.event_index-4)*this.TOP_MAX*-1;this.left_x=t,this.moveBtn()},viewImage:function(){},scrollHanle:function(t){}},beforeDestroy:function(){console.log("eventPage beforeDestroy"),this.$EventBus.$off(C.SET_TOP_IMAGE),this.$EventBus.$off(C.SET_TOP_IMAGE_INDEX)}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"topImage",staticClass:"topImage"},[n("div",{ref:"ps",staticClass:"contentBody"},[n("div",{ref:"unit_body",staticClass:"unit_body",style:{width:t.unit_width+"px",left:t.left_x+"px"}},[t._l(t.systems,function(e,i){return n("div",{staticClass:"image_unit",on:{click:function(e){return t.viewImage()}}},[n("div",{staticClass:"circle_mask"},[n("img",{attrs:{src:t.imageDir(e.image_name,"event_images"),width:"90",height:"90"}})]),t._v(" "),n("div",{staticClass:"circle_line"})])}),t._v(" "),n("div",{staticClass:"top_arrow",style:{left:t.top_icon_x+"px"}},[n("img",{attrs:{src:t.imageLocalDir("choice_arrow_icon.png"),width:"27",height:"18"}})])],2)]),t._v(" "),t.left_view?n("div",{staticClass:"left_arrow",on:{click:function(e){return t.moveList(!1)}}},[n("img",{attrs:{src:t.imageLocalDir("gift_left_arrow_btn.png"),width:"25",height:"54"}})]):t._e(),t._v(" "),t.right_view?n("div",{staticClass:"rigth_arrow",on:{click:function(e){return t.moveList(!0)}}},[n("img",{attrs:{src:t.imageLocalDir("gift_arrow_btn.png"),width:"25",height:"54"}})]):t._e()])},staticRenderFns:[]};var P=n("VU/8")(B,R,!1,function(t){n("dtyW")},"data-v-c49a1874",null).exports,W={name:"Campaign",components:{InputWin:O,TopImage:P},data:function(){return{msg:"캠패인",start_view:!1,copy_view:!1,connect_count:0,timeUtill:new y,mySystem:new D.a,c_socket:null,data:{time:0,event_name:"",winner:0,bong:0,participant:0,image_name:""},events:{event_name:"",image_name:""},all_event:[],height:0,now_time:0,DATE_ID:y.DATE,TIME_ID:y.TIME}},mounted:function(){var t=this;this.now_time=this.$now_time,this.getCampaign(this.$route.params.campaign_id),this.$EventBus.$on(C.MOVE_EVENT,function(e){var n=t.timeUtill.moveBeforeCheck(t.data.time,t.now_time,t.connect_count,t.data.participant);n==y.OK?t.$router.push({name:"EventPage",params:{campaign_id:t.$route.params.campaign_id,nicname:e.nicname,email:e.email,phone:e.phone}}):(n==y.TIME_OVER?alert("접속 시간이 지났습니다."):n==y.COUNT_OVER&&(console.log("초과"),alert("정원이 초과되어 더 이상 접속이 불가능합니다.")),t.$router.push("/"))})},methods:{imageDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"campaign_images";return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/"+e+"/"+t:""},EventnMove:function(t){var e=this.timeUtill.moveBeforeCheck(this.data.time,this.now_time,this.connect_count,this.data.participant);e==y.OK?this.$EventBus.$emit(C.INPUT_WIN,!0):(e==y.TIME_OVER?alert("접속 시간이 지났습니다."):e==y.TIME_OVER&&alert("정원이 초과되어 더 이상 접속이 불가능합니다."),this.$router.push("/"))},showList:function(t){var e=parseInt(t)>this.now_time;return e||this.getList(this.systems.length),e},back:function(){this.$router.push("/")},copy:function(){console.log("this.$route:",window.location.host);var t=window.location.origin+"/main.html?campaign="+this.$route.params.campaign_id;this.mySystem.copyToClipboard(t),alert("링크주소가 복사되었습니다.")},eventMove:function(){this.$EventBus.$emit(C.INPUT_WIN,!0)},getCampaign:function(t){var e=this,n={};n.campaign_id=t,this.$http.post(k.LOCALHOST_URL+"/api/getCampaign",n).then(function(t){if(console.log("qery:",t.data),t.data.res==p.a.REQ_OK){e.now_time=e.$now_time,e.data=t.data.qery[0];var n=e.getFristEvent(e.data);e.events=n[0],e.all_event=n[1],e.$EventBus.$emit(C.SET_TOP_IMAGE,e.events,e.all_event),e.timeUtill.showList(e.data.time,e.now_time)?(e.$EventBus.$on(C.CAMPAIGN_EVENT,function(t){e.now_time=t;var n=e.timeUtill.countdown(e.$moment,e.data.time,e.now_time);e.start_view=!n,e.copy_view=n}),e.c_socket=new k(N.a,k.CAMPAIGN_URL+"/Campaign",e,C.CAMPIGN_ROOM,e.$EventBus),e.c_socket.start(e.$route.params.campaign_id),e.$EventBus.$on(C.CAMPIGN_ROOM,function(t){console.log("campign data.count:",t.count),e.connect_count=parseInt(t.count)})):(e.$router.push("/"),console.log("end"))}}).catch(function(t){console.log("error",t)})},getFristEvent:function(t){var e=null,n=[];console.log("v.events.length:",t.events.length);for(var i=0;i<t.events.length;++i)if(1==parseInt(t.events[i].root_view)){e=t.events[i],n=t.events.splice(i,1);break}return t.events.unshift(n[0]),[e,t.events]}},beforeDestroy:function(){console.log("campaign beforeDestroy"),this.$EventBus.$off(C.MOVE_EVENT),this.$EventBus.$off(C.CAMPAIGN_EVENT),this.$EventBus.$off(C.CAMPIGN_ROOM),null!=this.c_socket&&this.c_socket.end()}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"campaign"},[n("div",{staticClass:"header"},[n("img",{staticClass:"top_image",attrs:{src:"/static/Campagin/logo_small.png"}}),t._v(" "),n("div",{staticClass:"topBtn",on:{click:function(e){return t.back()}}},[n("img",{attrs:{src:"/static/Campagin/prev_btn.png"}})])]),t._v(" "),n("div",{staticClass:"top_bg"}),t._v(" "),n("div",{staticClass:"content"},[n("TopImage"),t._v(" "),n("div",{staticClass:"title"},[n("div",{staticClass:"title_front"},[n("img",{staticClass:"title_con",attrs:{src:t.imageDir(t.data.image_name),width:"45",height:"45"}}),t._v(" "),n("span",{staticClass:"title_con"},[t._v("\n          "+t._s(t.events.event_name)+"\n        ")])]),t._v(" "),n("div",{staticClass:"title_back"},[n("div",{staticClass:"title_unit"},[n("span",{staticClass:"max_count"},[n("img",{attrs:{src:"/static/Campagin/trophy_black_icon.png"}})]),t._v(" "),n("span",{staticClass:"max_count"},[t._v("\n            "+t._s(t.events.winner)+"\n          ")])]),t._v(" "),n("div",{staticClass:"title_unit"},[n("span",{staticClass:"max_count"},[n("img",{attrs:{src:"/static/Campagin/bong_black_icon.png"}})]),t._v(" "),n("span",{staticClass:"max_count"},[t._v("\n            "+t._s(t.events.bong)+"배\n          ")])])])]),t._v(" "),n("div",{staticClass:"center_box"},[n("div",{staticClass:"item_image"},[n("img",{staticClass:"i_image",attrs:{src:t.imageDir(t.events.image_name,"event_images"),width:"550",height:"550"}})])]),t._v(" "),n("div",{staticClass:"bottom_time"},[n("span",{staticClass:"time_title"},[t._v("\n        남은시간\n      ")]),t._v(" "),n("span",{staticClass:"time_con"},[t._v("\n        "+t._s(t.timeUtill.getChangeTime(t.$moment,t.data.time,t.now_time,t.DATE_ID))),n("span",{staticClass:"time_con_end"},[t._v(t._s(t.timeUtill.getChangeTime(t.$moment,t.data.time,t.now_time,t.TIME_ID)))])])]),t._v(" "),n("div",{staticClass:"bottom_btn_body"},[n("span",{staticClass:"bottom_title"},[t._v("\n        선착순\n        "),n("span",{staticClass:"bottom_title_end"},[t._v("\n          "+t._s(t.connect_count)+"/"+t._s(t.data.participant)+"\n        ")])]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.start_view,expression:"start_view"}],staticClass:"bottom_con",on:{click:function(e){return t.eventMove()}}},[n("img",{attrs:{src:"/static/Campagin/event_start_btn.png"}})]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.copy_view,expression:"copy_view"}],staticClass:"bottom_con",on:{click:function(e){return t.copy()}}},[n("img",{attrs:{src:"/static/Campagin/event_share_btn.png"}})])])],1),t._v(" "),n("inputWin")],1)},staticRenderFns:[]};var U=n("VU/8")(W,L,!1,function(t){n("AzGD")},"data-v-11955481",null).exports,S=n("YWOB"),G=n.n(S),z={name:"WatingView",data:function(){return{win_view:!1}},mounted:function(){var t=this;this.$EventBus.$on(C.WATIMG_VIEW,function(e){t.win_view=e})},methods:{imageDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"campaign_images";return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/"+e+"/"+t:""},imageLocalDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Campagin";return""!=t?"/static/"+e+"/"+t:""}},beforeDestroy:function(){console.log("wating_view beforeDestroy"),this.$EventBus.$off(C.WATIMG_VIEW)}},H={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.win_view,expression:"win_view"}],ref:"watingView",staticClass:"watingView"},[e("div",{staticClass:"back"}),this._v(" "),e("div",{staticClass:"center_box"},[e("img",{staticClass:"top_icon",attrs:{src:this.imageLocalDir("loading_bong_icon.png"),width:"127",height:"170"}}),this._v(" "),e("div",{staticClass:"icon"},[e("img",{staticClass:"bottom_icon",attrs:{src:this.imageLocalDir("loading_icon.png"),width:"126",height:"126"}})])])])},staticRenderFns:[]};var F=n("VU/8")(z,H,!1,function(t){n("sZUO")},"data-v-4d843f10",null).exports,X=n("Xxa5"),q=n.n(X),K=n("exGp"),Q=n.n(K),Y={name:"MovieView",data:function(){return{win_view:!1,videoId:"",playerVars:{autoplay:1}}},mounted:function(){var t=this;this.$EventBus.$on(C.MOVIE_VIEW,function(e){t.win_view=e.view,t.videoId=e.videoId,e.view&&t.playVideo()})},methods:{imageDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"campaign_images";return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/"+e+"/"+t:""},imageLocalDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Campagin";return""!=t?"/static/"+e+"/"+t:""},playVideo:function(){var t=this;return Q()(q.a.mark(function e(){return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.player.playVideo();case 2:case"end":return e.stop()}},e,t)}))()},playing:function(){console.log("o/ we are watching!!!")}},beforeDestroy:function(){console.log("wating_view beforeDestroy"),this.$EventBus.$off(C.MOVIE_VIEW)},computed:{player:function(){return this.$refs.youtube.player}}},J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.win_view,expression:"win_view"}],ref:"movieView",staticClass:"movieView"},[e("div",{staticClass:"back"}),this._v(" "),e("div",{staticClass:"center_box"},[e("youtube",{ref:"youtube",attrs:{"video-id":this.videoId,"player-vars":this.playerVars},on:{playing:this.playing}})],1)])},staticRenderFns:[]};var Z={name:"WinView",data:function(){return{win_view:!1,nicname:"",item_name:"",item_iamge:""}},mounted:function(){var t=this;this.$EventBus.$on(C.WIN_VIEW,function(e){console.log("EventBus.WIN_VIEW data:",e),null!=e?(t.win_view=e.view,t.nicname=e.nicname,t.item_name=e.event_name,t.item_iamge=e.image_name):t.win_view=!1})},methods:{imageDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"campaign_images";return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/"+e+"/"+t:""},imageLocalDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Campagin";return""!=t?"/static/"+e+"/"+t:""}},beforeDestroy:function(){console.log("wating_view beforeDestroy"),this.$EventBus.$off(C.WIN_VIEW)}},tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.win_view,expression:"win_view"}],ref:"winView",staticClass:"winView"},[n("div",{staticClass:"back"}),t._v(" "),n("div",{staticClass:"center_box"},[n("img",{staticClass:"back_bg",attrs:{src:t.imageLocalDir("Congratu_bg.png"),width:"698",height:"959"}}),t._v(" "),n("div",{staticClass:"center_image"},[n("img",{staticClass:"image",attrs:{src:t.imageDir(t.item_iamge,"event_images")}})]),t._v(" "),n("div",{staticClass:"title"},[n("div",{staticClass:"top_title"},[n("span",{staticClass:"front_title"},[t._v(t._s(t.nicname))]),n("span",{staticClass:"back_title"},[t._v("님")])]),t._v(" "),n("div",{staticClass:"bottom_title"},[t._v("\r\n        우승하셨습니다\r\n      ")])]),t._v(" "),n("div",{staticClass:"ex"},[n("span",{staticClass:"front_ex"},[t._v(t._s(t.item_name))]),n("span",{staticClass:"back_ex"},[t._v(" 획득하셨습니다")])])])])},staticRenderFns:[]};var et={name:"ResultView",data:function(){return{win_view:!1,pass:!1,failed:!1}},mounted:function(){var t=this;this.$EventBus.$on(C.RESULT_VIEW,function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("EventBus.RESULT_VIEW data:",e),t.win_view=e,e&&(n?(t.pass=!0,t.failed=!1):(t.pass=!1,t.failed=!0))})},methods:{imageDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"campaign_images";return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/"+e+"/"+t:""},imageLocalDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Campagin";return""!=t?"/static/"+e+"/"+t:""}},beforeDestroy:function(){console.log("wating_view beforeDestroy"),this.$EventBus.$off(C.RESULT_VIEW)}},nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.win_view,expression:"win_view"}],ref:"rsultView",staticClass:"resultView"},[n("div",{staticClass:"back"}),t._v(" "),n("div",{staticClass:"center_box"},[t.pass?n("div",{staticClass:"bong_pass"},[n("img",{attrs:{src:t.imageLocalDir("bong_pass.png"),width:"259",height:"329"}})]):t._e(),t._v(" "),t.failed?n("div",{staticClass:"bong_failed"},[n("img",{attrs:{src:t.imageLocalDir("bong_failed.png"),width:"259",height:"329"}})]):t._e()])])},staticRenderFns:[]};var it={name:"StartView",data:function(){return{win_view:!1}},mounted:function(){var t=this;this.$EventBus.$on(C.START_VIEW,function(e){console.log("EventBus.START_VIEW data:",e),t.win_view=e})},methods:{imageDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"campaign_images";return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/"+e+"/"+t:""},imageLocalDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Campagin";return""!=t?"/static/"+e+"/"+t:""}},beforeDestroy:function(){console.log("wating_view beforeDestroy"),this.$EventBus.$off(C.START_VIEW)}},st={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.win_view,expression:"win_view"}],ref:"startView",staticClass:"startView"},[e("div",{staticClass:"back"}),this._v(" "),e("div",{staticClass:"center_box"},[e("div",{staticClass:"bong_start"},[e("img",{attrs:{src:this.imageLocalDir("bong_start.png"),width:"259",height:"329"}})])])])},staticRenderFns:[]};var at={name:"Event",components:{TopImage:P,WatingView:F,MovieView:n("VU/8")(Y,J,!1,function(t){n("hFzP")},"data-v-725de863",null).exports,WinView:n("VU/8")(Z,tt,!1,function(t){n("1iR8")},"data-v-02a8a291",null).exports,ResultView:n("VU/8")(et,nt,!1,function(t){n("ztPh")},"data-v-30aeb209",null).exports,StartView:n("VU/8")(it,st,!1,function(t){n("edoI")},"data-v-72029dbe",null).exports},data:function(){return{msg:"이벤트",start_game:!1,now_time:0,time_view:!1,enabled:!1,connect_count:0,select_id:-1,chat_toggor:!0,chat_opacity:.3,BAR_MAX:110,BAR_MIN:64,bar_height:[0,0,0,0],bar_height_value:["-64px","-64px","-64px","-64px"],timeUtill:new y,myMath:new G.a,content:"",btn_opacity:[.3,.3,.3,.3],bar_color:["#e4e4e4","#e4e4e4","#e4e4e4","#e4e4e4"],btn_back_image:["game_btn_1.png","game_btn_1.png","game_btn_1.png","game_btn_1.png"],gameCount:[0,0,0,0],data:{time:0,event_name:"",image_name:"",bong:0,participant:0,event_count:0},events:{event_name:"",image_name:"",winner:0,winner_done:0},all_event:[],e_socket:null,chat_content:"",DATE_ID:y.DATE,TIME_ID:y.TIME,progress_max:100,progress_value:100,timer_id:-1,options:{text:{color:"#FFFFFF",shadowEnable:!0,shadowColor:"#000000",fontSize:0,fontFamily:"Helvetica",dynamicPosition:!1,hideText:!0},progress:{color:"#ff5f32",backgroundColor:"#dedede"},layout:{height:56,width:56,verticalTextAlign:41,horizontalTextAlign:1,zeroOffset:0,strokeWidth:10,progressPadding:0,type:"circle"}}}},mounted:function(){this.now_time=this.$now_time,console.log("this.now_time:",this.now_time),void 0==this.$route.params.email?this.$router.push("/"):this.getCampaign(this.$route.params.campaign_id),this.setEnabled(!1)},methods:{imageDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"campaign_images";return""!=t?"https://s3.ap-northeast-2.amazonaws.com/minuapp.com.rsp/"+e+"/"+t:""},setBarHeight:function(t,e,n){var i=this.BAR_MAX-this.BAR_MIN;this.bar_height[t]=-1*(this.BAR_MIN+e/n*i),console.log("(min/max*p):"+t+":"+e/n*i),console.log("this.bar_height[index]:"+t+":"+this.bar_height[t]),this.bar_height_value[t]=this.bar_height[t]+"px"},setSelectID:function(t){this.enabled&&(this.select_id=t,this.btn_opacity=[1,1,1,1],this.bar_color=["#e4e4e4","#e4e4e4","#e4e4e4","#e4e4e4"],this.btn_back_image=["game_btn_1.png","game_btn_1.png","game_btn_1.png","game_btn_1.png"],-1==t?this.btn_opacity=[.3,.3,.3,.3]:-2==t?this.btn_opacity=[1,1,1,1]:(this.bar_color[this.select_id]="#ffcb9e",this.btn_back_image[this.select_id]="game_btn_2.png",this.e_socket.game_data.select_id=this.select_id,this.getLife()&&this.e_socket.send(k.GAME_DATA,this.e_socket.game_data)))},getLife:function(){return null==this.e_socket||this.e_socket.game_data.life},setEnabled:function(t){this.enabled=t,this.bar_color=["#e4e4e4","#e4e4e4","#e4e4e4","#e4e4e4"],this.btn_back_image=["game_btn_1.png","game_btn_1.png","game_btn_1.png","game_btn_1.png"],t?this.btn_opacity=[1,1,1,1]:(null!=this.e_socket&&(this.e_socket.game_data.select_id=-1),this.gameCount=[0,0,0,0],this.setBarHeight(0,0,1),this.setBarHeight(1,0,1),this.setBarHeight(2,0,1),this.setBarHeight(3,0,1),this.btn_opacity=[.3,.3,.3,.3])},imageLocalDir:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Campagin";return""!=t?"/static/"+e+"/"+t:""},chatToggor:function(){if(this.chat_toggor=!this.chat_toggor,this.chat_toggor){this.chat_opacity=.3;var t=this.$refs.ps.$el;t.scrollTop=t.scrollHeight,this.$refs.chatting_input.focus()}else this.chat_opacity=1},scrollHanle:function(t){},MainnMove:function(){this.$router.push("/")},changeNo:function(t){return this.myMath.won(this.gameCount[t])},submit:function(t){return this.$str_check.void_check(this.chat_content)?(this.chat_content="",alert("내용을 입력해 주세요."),void this.$refs.chatting_input.focus()):this.chat_content.length>30?(this.chat_content="",alert("30자이내만 입력 가능합니다."),void this.$refs.chatting_input.focus()):(this.chat_content=this.chat_content.trim(),this.e_socket.send(k.CHAT,this.chat_content),this.setChat("나",this.chat_content),this.chat_content="",void this.$refs.chatting_input.focus())},getCampaign:function(t){var e=this,n={};n.campaign_id=t,this.$http.post(k.LOCALHOST_URL+"/api/getCampaign",n).then(function(t){if(console.log("qery:",t.data),t.data.res==p.a.REQ_OK){e.now_time=e.$now_time,e.data=t.data.qery[0];var n=e.getFristEvent(e.data);if(e.events=n[0],e.all_event=n[1],e.$EventBus.$emit(C.SET_TOP_IMAGE,e.events,e.all_event),e.timeUtill.showList(e.data.time,e.now_time))e.$EventBus.$on(C.EVENT_PAGE_EVENT,function(t){e.start_game||(e.now_time=t,e.timeUtill.showList(e.data.time,e.now_time)?e.time_view||(e.$EventBus.$emit(C.WATIMG_VIEW,!1),e.time_view=!0):e.time_view&&(e.time_view=!1,e.$EventBus.$emit(C.WATIMG_VIEW,!0)))}),e.timeUtill.countdown(e.$moment,e.data.time,e.now_time)?(console.log("this.now_time:",e.now_time),0==e.now_time||void 0==e.$route.params.email?alert("정상적인 접속이 아닙니다."):alert("입장 가능한 시간이 아닙니다.게임 시작 10분전부터 입장 가능합니다."),e.$router.push("/")):(e.e_socket=new k(N.a,k.CAMPAIGN_URL+"/EventPage",e,C.EVENTPAGE_ROOM,e.$EventBus,e.data.participant,e.$route.params.nicname,e.$route.params.email,e.$route.params.phone),e.e_socket.start(e.$route.params.campaign_id),e.$EventBus.$on(C.EVENTPAGE_ROOM,function(t){console.log("eventpage data.count:",t.count),e.connect_count=parseInt(t.count),"count_over"==t.msg?(alert("정원이 초과되어 더 이상 접속이 불가능합니다."),e.$router.push("/")):"ok"==t.msg?e.$refs.chatting_input.focus():"in"==t.msg?(e.setChat(t.nicname,"님이 입장하셨습니다.",!0),console.log("this.content:",e.content)):"repeated"==t.msg?(1==t.check_id?alert("중복된 닉네임입니다. 다시 접속해 주세요."):2==t.check_id?alert("중복된 이메일입니다. 다시 접속해 주세요."):3==t.check_id&&alert("중복된 전화번호입니다. 다시 접속해 주세요."),e.$router.go(-1)):"by"==t.msg&&e.setChat(t.nicname,"님이 퇴장하셨습니다.",!0)}),e.$EventBus.$on(C.EVENT_DATA,function(t){if(t.msg==C.START_DELAY)e.data.event_count=t.event_count,t.restart,e.setEnabled(!1),e.$EventBus.$emit(C.START_VIEW,!0),e.$EventBus.$emit(C.WIN_VIEW,null),e.$EventBus.$emit(C.RESULT_VIEW,!1),e.$EventBus.$emit(C.WATIMG_VIEW,!1),e.$EventBus.$emit(C.WIN_VIEW,null),e.progress_max=parseInt(t.count_time),e.progress_value=e.progress_max/e.progress_max*100,e.$EventBus.$emit(C.SET_TOP_IMAGE_INDEX,parseInt(e.data.event_count));else if(t.msg==C.EVENT_START)e.$EventBus.$emit(C.START_VIEW,!1),e.getLife()&&e.setEnabled(!0);else if(t.msg==C.YOUTUBE_START){var n={view:!0};n.videoId=t.youtube_url,e.$EventBus.$emit(C.MOVIE_VIEW,n),e.$EventBus.$emit(C.WATIMG_VIEW,!1)}else if(t.msg==C.YOUTUBE_STOP){var i={view:!1,videoId:""};e.$EventBus.$emit(C.MOVIE_VIEW,i)}else if(t.msg==C.COUNTDOWN){var s=parseInt(t.count_time);e.progress_value=s/e.progress_max*100}else t.msg==C.EVENT_STOP?(e.progress_value=0,e.$EventBus.$emit(C.WATIMG_VIEW,!0)):t.msg==C.EVENT_COMPUTER_DONE?e.e_socket.send(k.GET_DATA,null):t.msg==C.GAME_DONE&&e.MainnMove()}),e.$EventBus.$on(k.CHAT,function(t){e.setChat(t.nicname,t.chat)}),e.$EventBus.$on(k.GET_DATA,function(t){if(console.log("SocketManager.GET_DATA data:",t),e.getLife())if(e.$EventBus.$emit(C.WATIMG_VIEW,!1),t.u_info.life)e.$EventBus.$emit(C.RESULT_VIEW,!0,!1);else{e.$EventBus.$emit(C.RESULT_VIEW,!0,!0);var n=e;e.timer_id=setTimeout(function(){var e={view:!0};e.nicname=t.u_info.nicname,e.event_name=n.events.event_name,e.image_name=n.events.image_name,n.$EventBus.$emit(C.WIN_VIEW,e),n.$EventBus.$emit(C.RESULT_VIEW,!1)},2e3)}e.events.winner_done=t.winner_done}),e.$EventBus.$on(k.GAME_DATA,function(t){console.log("gameCount:",t),e.gameCount=t,e.setBarHeight(0,e.gameCount[0],e.connect_count),e.setBarHeight(1,e.gameCount[1],e.connect_count),e.setBarHeight(2,e.gameCount[2],e.connect_count),e.setBarHeight(3,e.gameCount[3],e.connect_count)}));else alert("접속 시간이 지났습니다."),e.$router.push("/")}}).catch(function(t){console.log("error",t)})},setChat:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.content+=n?"<div class='chat_unit'><span class='chat_head2'>"+t+"</span><span class='chat_msg'>"+e+"</span></div>":"<div class='chat_unit'><span class='chat_head'>"+t+"</span><span class='chat_msg'>"+e+"</span></div>";var i=this.$refs.ps.$el;setTimeout(function(){i.scrollTop=i.scrollHeight},30)},getFristEvent:function(t){var e=null,n=[];console.log("v.events.length:",t.events.length);for(var i=0;i<t.events.length;++i)if(1==parseInt(t.events[i].root_view)){e=t.events[i],n=t.events.splice(i,1);break}return t.events.unshift(n[0]),[e,t.events]}},beforeDestroy:function(){console.log("eventPage beforeDestroy"),this.$EventBus.$off(C.EVENT_PAGE_EVENT),this.$EventBus.$off(C.EVENTPAGE_ROOM),this.$EventBus.$off(C.EVENT_DATA),this.$EventBus.$off(k.CHAT),this.$EventBus.$off(k.GAME_DATA),this.$EventBus.$off(k.GET_DATA),clearTimeout(this.timer_id),null!=this.e_socket&&this.e_socket.end()},computed:{}},ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event"},[n("div",{staticClass:"header"},[n("img",{staticClass:"top_image",attrs:{src:"/static/Campagin/logo_small.png"}}),t._v(" "),n("div",{staticClass:"topBtn",on:{click:function(e){return t.back()}}},[n("img",{attrs:{src:"/static/Campagin/prev_btn.png"}})])]),t._v(" "),n("div",{staticClass:"top_bg"}),t._v(" "),n("div",{staticClass:"content"},[n("TopImage"),t._v(" "),n("div",{staticClass:"title"},[n("div",{staticClass:"title_front"},[n("img",{staticClass:"title_con",attrs:{src:t.imageDir(t.data.image_name),width:"45",height:"45"}}),t._v(" "),n("span",{staticClass:"title_con_text"},[t._v("\n          "+t._s(t.events.event_name)+"\n        ")])]),t._v(" "),n("div",{staticClass:"title_back"},[n("div",{staticClass:"title_unit"},[n("span",{staticClass:"max_count"},[n("img",{attrs:{src:"/static/Campagin/people_black_icon.png"}})]),t._v(" "),n("span",{staticClass:"max_count"},[t._v("\n            "+t._s(t.connect_count)+"/"+t._s(t.data.participant)+"\n          ")])]),t._v(" "),n("div",{staticClass:"title_unit"},[n("span",{staticClass:"max_count"},[n("img",{attrs:{src:"/static/Campagin/trophy_black_icon.png"}})]),t._v(" "),n("span",{staticClass:"max_count"},[t._v("\n            "+t._s(t.events.winner_done)+"/"+t._s(t.events.winner)+"\n          ")])]),t._v(" "),n("div",{staticClass:"title_unit"},[n("span",{staticClass:"max_count"},[n("img",{attrs:{src:"/static/Campagin/bong_black_icon.png"}})]),t._v(" "),n("span",{staticClass:"max_count"},[t._v("\n            "+t._s(t.events.bong)+"배\n          ")])])]),t._v(" "),n("div",{staticClass:"time_bar"},[n("img",{attrs:{src:"/static/Campagin/time_icon.png"}}),t._v(" "),n("progress-bar",{staticClass:"time_progress",attrs:{options:t.options,value:t.progress_value}})],1)]),t._v(" "),n("div",{staticClass:"center_box"},[n("div",{staticClass:"item_image"},[n("img",{staticClass:"i_image",attrs:{src:t.imageDir(t.events.image_name,"event_images"),width:"450",height:"450"}}),t._v(" "),t.time_view?n("div",{staticClass:"bottom_time"},[t._v("\n          "+t._s(t.timeUtill.getChangeTime(t.$moment,t.data.time,t.now_time,t.TIME_ID))+"\n        ")]):t._e(),t._v(" "),n("scroll",{directives:[{name:"show",rawName:"v-show",value:t.chat_toggor,expression:"chat_toggor"}],ref:"ps",staticClass:"scroll",attrs:{tagname:"div"},domProps:{innerHTML:t._s(t.content)},on:{"ps-scroll-y":t.scrollHanle}}),t._v(" "),n("div",{staticClass:"chat_btn",on:{click:t.chatToggor}},[n("div",{staticClass:"chat_btn_img",style:{opacity:t.chat_opacity}})])],1)]),t._v(" "),n("div",{staticClass:"chatting_body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.chat_content,expression:"chat_content"}],ref:"chatting_input",staticClass:"chatting_input",attrs:{type:"text"},domProps:{value:t.chat_content},on:{keyup:function(e){return"keyCode"in e&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},input:function(e){e.target.composing||(t.chat_content=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"bottom_btn_body"},[n("span",{staticClass:"b_bottom",on:{click:function(e){return t.setSelectID(0)}}},[n("div",{staticClass:"btn_bar",style:{backgroundColor:t.bar_color[0],top:t.bar_height_value[0]}}),t._v(" "),n("div",{staticClass:"btn_back_image"},[n("img",{attrs:{src:t.imageLocalDir(t.btn_back_image[0])}})]),t._v(" "),n("div",{staticClass:"btn_front_image",style:{opacity:t.btn_opacity[0]},attrs:{id:"btn_front_image_1"}},[n("img",{attrs:{src:"/static/Campagin/game_kawi_icon.png"}})]),t._v(" "),n("div",{staticClass:"game_count"},[t._v("\n          "+t._s(t.changeNo(0))+"\n        ")])]),t._v(" "),n("span",{staticClass:"b_bottom",on:{click:function(e){return t.setSelectID(1)}}},[n("div",{staticClass:"btn_bar",style:{backgroundColor:t.bar_color[1],top:t.bar_height_value[1]}}),t._v(" "),n("div",{staticClass:"btn_back_image"},[n("img",{attrs:{src:t.imageLocalDir(t.btn_back_image[1])}})]),t._v(" "),n("div",{staticClass:"btn_front_image",style:{opacity:t.btn_opacity[1]},attrs:{id:"btn_front_image_2"}},[n("img",{attrs:{src:"/static/Campagin/game_bawi_icon.png"}})]),t._v(" "),n("div",{staticClass:"game_count"},[t._v("\n          "+t._s(t.changeNo(1))+"\n        ")])]),t._v(" "),n("span",{staticClass:"b_bottom",on:{click:function(e){return t.setSelectID(2)}}},[n("div",{staticClass:"btn_bar",style:{backgroundColor:t.bar_color[2],top:t.bar_height_value[2]}}),t._v(" "),n("div",{staticClass:"btn_back_image"},[n("img",{attrs:{src:t.imageLocalDir(t.btn_back_image[2])}})]),t._v(" "),n("div",{staticClass:"btn_front_image",style:{opacity:t.btn_opacity[2]},attrs:{id:"btn_front_image_3"}},[n("img",{attrs:{src:"/static/Campagin/game_bo_icon.png"}})]),t._v(" "),n("div",{staticClass:"game_count"},[t._v("\n          "+t._s(t.changeNo(2))+"\n        ")])]),t._v(" "),n("span",{staticClass:"b_bottom",on:{click:function(e){return t.setSelectID(3)}}},[n("div",{staticClass:"btn_bar",style:{backgroundColor:t.bar_color[3],top:t.bar_height_value[3]}}),t._v(" "),n("div",{staticClass:"btn_back_image"},[n("img",{attrs:{src:t.imageLocalDir(t.btn_back_image[3])}})]),t._v(" "),n("div",{staticClass:"btn_front_image",style:{opacity:t.btn_opacity[3]},attrs:{id:"btn_front_image_4"}},[n("img",{attrs:{src:"/static/Campagin/game_bong_icon.png"}})]),t._v(" "),n("div",{staticClass:"game_count"},[t._v("\n          "+t._s(t.changeNo(3))+"\n        ")])])])],1),t._v(" "),n("StartView"),t._v(" "),n("MovieView"),t._v(" "),n("WatingView"),t._v(" "),n("ResultView"),t._v(" "),n("WinView")],1)},staticRenderFns:[]};var rt=n("VU/8")(at,ot,!1,function(t){n("TWzd")},"data-v-8f1b5008",null).exports;i.default.use(h.a);var ct=new h.a({mode:"history",routes:[{path:"/",name:"Main",component:A},{path:"/Campaign/:campaign_id",name:"Campaign",component:U},{path:"/EventPage/:campaign_id",name:"EventPage",component:rt}]}),lt=n("PJh5"),_t=n.n(lt),ut=n("Nkks"),mt=n.n(ut),ht=n("e6fC"),vt=n("m9Rg"),gt=n.n(vt),ft=(n("Jmt5"),n("9M+g"),n("mtWM")),pt=n.n(ft);i.default.use(l.a);i.default.use(m.a),i.default.use(_.a,{confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"}),i.default.use(r.a,{name:"scroll"}),i.default.prototype.$http=pt.a,i.default.prototype.$http.options.emulateJSON=!0,i.default.prototype.$str_check=new gt.a,i.default.use(mt.a,_t.a),i.default.use(ht.a),i.default.prototype.$room_id=0,i.default.config.productionTip=!1,i.default.prototype.$campaign_io=null,i.default.prototype.$event_io=null;var dt="";function Et(){i.default.prototype.$io=N()(k.TIME_URL,{transports:["websocket"]})}Et(),i.default.prototype.$now_time=0,i.default.prototype.$EventBus=new i.default,i.default.prototype.$io.on("connect",function(){console.log("connection");var t={msg:"client hi"};i.default.prototype.$io.emit("msg",t)}),i.default.prototype.$io.on("msg",function(t){console.log("data.msg:",t.msg)}),i.default.prototype.$io.on("time",function(t){t=parseInt(t),i.default.prototype.$now_time=t,dt==C.MAIN?i.default.prototype.$EventBus.$emit(C.MAIN_EVENT,t):dt==C.CAMPAIGN?i.default.prototype.$EventBus.$emit(C.CAMPAIGN_EVENT,t):dt==C.EVENT_PAGE&&i.default.prototype.$EventBus.$emit(C.EVENT_PAGE_EVENT,t)}),i.default.prototype.$io.on("error",function(t){console.log("error"),alert("Time server error로 접속이 안됩니다.")}),i.default.prototype.$io.on("disconnect",function(){console.log("time disconnect"),alert("Time server 접속이 끊어졌습니다. 3초 후에 다시 연결 합니다."),setTimeout(function(){i.default.prototype.$io=null,Et()},3e3)}),ct.beforeEach(function(t,e,n){console.log("change",t),dt=t.name,n()}),new i.default({el:"#app",router:ct,components:{App:a},template:"<App/>"})},OOdf:function(t,e,n){"use strict";t.exports={REQ_OK:1,REQ_NO:0,REQ_LOGOUT:-1,REQ_DB_ERROR:-2,REQ_NOT_IS_ID:2,ADD_DB:0,DELETE_DB:1,UPDATE_DB:2}},R6e1:function(t,e){},TWzd:function(t,e){},UdIB:function(t,e){},YWOB:function(t,e,n){"use strict";t.exports=function(){this.random=function(t){return parseInt(Math.random()*t)},this.ran=function(t,e){return Number(t)+this.random(e)},this.won=function(t,e,n){var i=!1,s="",a=0,o="";for(void 0==n&&(n=","),void 0!=t&&""!=t||(t=0),"string"==typeof t&&(t*=1),t<0&&(i=!0,t*=-1),a=(t=t.toString()).length;a>3;)s=t.substring(a,a-3),a-=3,o=n+s+o;return o=(s=t.substring(a,a-3))+o,i&&(o="-"+o),void 0!=e?o+e:o},this.r_uint=function(t){for(var e=[],n=0;n<t;n++)e.push(n);return this.r_array(e)},this.r_array=function(t){for(var e=[],n=0,i=t.length,s=0;s<i;s++)n=this.random(t.length),e.push(t[n]),t.splice(n,1);return e}}},dtyW:function(t,e){},edoI:function(t,e){},hFzP:function(t,e){},m9Rg:function(t,e,n){"use strict";t.exports=function(){this.number_check=function(t){return!new RegExp("[^0-9]+","gi").test(t)},this.number_change=function(t){var e=new RegExp("[^0-9]+","gi");return t.replace(e,"")},this.en_check=function(t,e,n){for(var i=new RegExp("[^a-z_]+","g"),s="",a=0;a<e.length;a++){if(s=t.form[e[a]].value,i.test(s))return t.form[e[a]].value="",alert(n[a]),t.form[e[a]].focus(),!1;if(""==s)return t.form[e[a]].value="",alert("게시판 이름을 적어 주세요."),t.form[e[a]].focus(),!1;if(s.length<3)return t.form[e[a]].value="",alert("게시판 이름은 3자 이상입니다."),t.form[e[a]].focus(),!1}return!0},this.email_check=function(t){return!!new RegExp("^[-/_a-zA-Z0-9.]+(@[-/_a-zA-Z0-9]+)((.[a-z]{2,3})(.[a-z]{2,3})?)$","gi").test(t)},this.void_check=function(t){return""==t.replace(/\s/g,"")},this.void_return=function(t){return t.replace(/\s/g,"")},this.isNumberKey=function(t){return!/[^0-9\.]/.test(t)&&!/[\.]{2}$/.test(t)&&!/^\d*[.]\d{3}$/.test(t)}}},qBcG:function(t,e){},sZUO:function(t,e){},sxbO:function(t,e,n){"use strict";t.exports=function(){this.checkMobileDevice=function(){var t=new Array("Android","iPhone","iPod","BlackBerry","Windows CE","SAMSUNG","LG","MOT","SonyEricsson");for(var e in t)if(null!=navigator.userAgent.match(t[e]))return!0;return window.orientation,!1},this.GetIEVersion=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE");return e>0?parseInt(t.substring(e+5,t.indexOf(".",e))):navigator.userAgent.match(/Trident\/7\./)?11:0},this.getUrlParam=function(t){var e;try{e=new URLSearchParams(window.location.search)}catch(e){var n=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null==n?null:decodeURI(n[1])||0}return e},this.copyToClipboard=function(t){var e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},uslO:function(t,e,n){var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function s(t){return n(a(t))}function a(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id="uslO"},zj2Q:function(t,e){},ztPh:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8a1daccca1e04fbcf959.js.map